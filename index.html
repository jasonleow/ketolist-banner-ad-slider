<!DOCTYPE html>
<html lang="en">

<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"></script>

	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

	<link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">

	<style>
		body {
			background-color: #f2f2f2;
			width: 100%;
			height:100%;
			padding: 3em 0 0 0;
		}

		.fade-enter-active {
			transition: opacity 1s;
		}
		.fade-enter {
			opacity: 0;
		}
		.slide-next-leave-active {
			transition: transform 0.5s ease-in-out;
		}
		.slide-next-enter-active {
			transition: transform 0.5s ease-in-out;
		}
		.slide-next-enter {
			transform: translate(100%);
		}
		.slide-next-leave-to {
			transform: translate(-100%);
		}

		.slider {
			width: 100%;
			overflow: hidden;
			position: relative;
			height: 80vh;
		}
		.slider__item {
			background-size: cover;
			background-position: center;
			width: 100%;
			height: 100%;
			position: absolute;
			top: 0;
			left: 0;
			padding: 0 10em;
		}

		.fas {
			color: #ddd;
			font-size: 2.145em;
		}

		.slider__container {
			display: flex;
			flex-direction: row;
		}

		.slider__img {
			flex: 50%;
			width: 50%;
			height: 50%;
		}

		.text-container {
			flex: 50%;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			justify-content: left;
			width: 22em;
			padding-left: 5em;
		}

		.slider__item h2 {
			color: #362c2c;
			font-family: "helvetica, arial, open sans, sans serif", "Segoe UI", sans-serif;
			font-size: 2.145em;
			font-weight: bold;
			line-height: 1.3;
			text-shadow: 1px 1px 0px #fff;
			padding-bottom: 0.83em;
		}

		.slider__item p {
			color: #362c2c;
			font-family: "helvetica, arial, open sans, sans serif", "Segoe UI", sans-serif;
			font-size: 1em;
			line-height: 1.5;
			text-shadow: 0.8px 0.8px 0.3px #fff;
		}

		.cta {
			padding: 0.87em 1.7em;
			border-radius: 4px;
			color: #ffffff;
			background: #2ec368;
			text-decoration: none;
			box-sizing: border-box;
			transition: transform 0.3s cubic-bezier(0.374, 0.019, 0.035, 1.861),
				-webkit-transform 0.3s cubic-bezier(0.374, 0.019, 0.035, 1.861);
			display: inline-block;
			border: none;
			cursor: pointer;
			outline: 0;
		}

		@media (max-width: 768px) {
			.slider__container {
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}
			.slider__img {
				width: 80%;
				height: 80%;
				vertical-align: bottom;
			}

			.text-container {
				align-items: center;
				padding: 3em 2em 1em 2em;
			}

			.fas {
				padding-bottom: 0.6em;
			}

			.slider__item {
				padding: 0 5em;
				text-align: center;
			}
			.slider__item h2 {
				font-size: 1.6em;
				font-weight: bold;
			}
			.slider__item p {
				font-size: 0.9em;
			}
			.cta {
				font-size: 1em;
			}
		}

		.cta:hover {
			transform: scale(1.05);
			opacity: 1;
		}

		.btn {
			z-index: 10;
			cursor: pointer;
			border: 3px solid #565656;
			display: flex;
			justify-content: center;
			align-items: center;
			width: 40px;
			height: 40px;
			position: absolute;
			top: 50%;
			left: 30px;
			border-radius: 40px;
			transform: translateY(-50%);
			transition: opacity 0.3s;
			user-select: none;
			color: #565656;
			opacity: 0.4;
		}
		.btn-next {
			left: auto;
			right: 30px;
		}
		.btn:hover {
			color: #fff;
			background: #565656;
			opacity: 1;
		}
	</style>
</head>
<body>
	<div id="app">
		<div class="slider">
			<transition-group tag="div" v-bind:name="transitionName">
				<div v-if="show" v-bind:key="current" class="slider__item" v-on:mouseover="stopRotation" v-on:mouseout="startRotation">
					<div class="slider__container">
						<img v-bind:src="slides[current].image" class="slider__img">
							<div class="text-container">
								<i class="fas fa-ad"></i>
								<h2>{{slides[current].title}}</h2>
								<p v-html="slides[current].text">{{slides[current].text}}</p>
								<a v-bind:href="slides[current].url" target="_blank" rel="noopener"><button class="cta">{{ slides[current].cta }}</button></a>
							</div>
					</div>
				</div>
			</transition-group>
			<div class="btn btn-prev" @click="prev()" v-on:mouseover="stopRotation" v-on:mouseout="startRotation">
				<i class="fa fa-arrow-left"></i>
			</div>
			<div class="btn btn-next" @click="next()" v-on:mouseover="stopRotation" v-on:mouseout="startRotation">
				<i class="fa fa-arrow-right"></i>
			</div>
		</div>
	  </div>
	
	<script>
		let slider = new Vue({
			el: "#app",
			data: {
				current: 0, // By default the slide at index 0
				timer: null, // Timer null
				transitionName: "fade", //
				show: false, // Default hidden to use fade animation (fade-enter with view transitions)
				slides: [
					{
						title: "Explore Singapore’s largest range of fine keto products",
						text: "Carefully curated products for all your keto needs, Carbs for Keto is the one-stop shop for keto products.<br/><br/>Deliciousness guaranteed!<br/><br/>Use discount code “KETOLISTSG” for a 10% discount on your first order. No minimum spend required.",
						url: "https://carbsforketo.com/?ref=ketolistsingapore",
						cta: "Explore now",
						image: "https://dl.airtable.com/.attachmentThumbnails/4fea60771bd4d4982b8529e4c9188308/3d82f05b"
					},
					{
						title: "Kickstart your diet with this Keto Starter Kit!",
						text: "Who said dieting has to be hard? Wowlah's Keto Starter Kit is a snack box filled with delicious keto snacks, sweet treats, and all the best-selling fan favourites! Whether you're just starting out on keto or are just looking for more snacking choices, Wowlah has it all.<br/><br/><strong>Exclusive for KetoList, use code \"KETOLIST\" at checkout to get $5 OFF your order!* Minimum spend of $50.</strong>",
						url: "https://wowlah.com/?ref=ketolistsingapore",	
						cta: "Buy now",
						image: "https://dl.airtable.com/.attachmentThumbnails/50ffd03d8f34a40616caf5ded56db515/20b1b2d6"
					},
					{
						title: "Explore Singapore’s largest range of fine keto products",
						text: "Carefully curated products for all your keto needs, Carbs for Keto is the one-stop shop for keto products.<br/><br/>Deliciousness guaranteed!<br/><br/>Use discount code “KETOLISTSG” for a 10% discount on your first order. No minimum spend required.",
						url: "https://carbsforketo.com/?ref=ketolistsingapore",
						cta: "Explore now",
						image: "https://dl.airtable.com/.attachmentThumbnails/4fea60771bd4d4982b8529e4c9188308/3d82f05b"
					}
				]
			},
			methods: {
				next() {
					this.transitionName = "slide-next"; // Name given to the transition for the next slide
					const len = this.slides.length; // Number of slides
					this.current = (this.current + (1 % len) + len) % len;
					// +1 for next slide: current index + (1 modulo the number of slides) + number of slides modulo number of slides. The modulo operation finds the remainder or signed remainder after a division of one number by another, e.g. the expression "5 mod 2" would evaluate to 1 because 5 divided by 2 has a quotient of 2 and a remainder of 1, while "9 mod 3" would evaluate to 0 because the division of 9 by 3 has a quotient of 3 and leaves a remainder of 0; there is nothing to subtract from 9 after multiplying 3 times 3.
					//  e.g. for 3 slides when we are on slide 2 (remember that we are counting 0 1 2): (1 + 1% 3 + 3)% 3 = 1
					// This technique allows us to make an infinite loop because on the last slide: (2 + 1% 3 + 3)% 3 = 0
				},
				prev() {
					this.transitionName = "slide-prev"; // Inverse of next :-)
					const len = this.slides.length; // Inverse of next :-)
					this.current = (this.current - (1 % len) + len) % len; // Inverse of next :-)
				},
				startRotation() {
					this.timer = setInterval(this.next, 4000); // Rotation every 4 s
				},
				stopRotation: function () {
					clearTimeout(this.timer); // Used to stop our setInterval
					this.timer; // timer is null
				}
			},
			mounted() {
				this.show = true; // For condition show for fade-enter
				this.startRotation(); // Autoplay launch
			}
		});

	</script>
</body>
</html>
